(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7tAx":function(e,n,t){"use strict";t.r(n),t.d(n,"ZoneModule",(function(){return A}));var c=t("ofXK"),o=t("tyNb"),i=t("wHSu"),s=t("2Vo4"),a=t("itXk"),b=t("lJxs"),r=t("pLZG"),u=t("vkgz"),l=t("eIep"),d=t("SxV6"),f=t("fXoL"),g=t("bipQ"),p=t("/UgP"),h=t("suKW"),m=t("1/cB"),O=t("6NWb"),N=t("Ny7u");function v(e,n){if(1&e){const e=f.Pb();f.Ob(0,"span",17),f.Vb("click",(function(){f.mc(e);const t=n.$implicit;return f.Xb(4).sourceChosen(t)})),f.Ob(1,"a"),f.tc(2),f.Nb(),f.Nb()}if(2&e){const e=n.$implicit,t=f.Xb().ngIf;f.Ab("is-primary",t.name===e.name),f.xb(2),f.uc(e.name||e.category)}}function I(e,n){if(1&e&&(f.Ob(0,"div",15),f.rc(1,v,3,3,"span",16),f.Yb(2,"async"),f.Nb()),2&e){const e=f.Xb(3);f.xb(1),f.dc("ngForOf",f.Zb(2,1,e.zoneItemSources$))}}function x(e,n){if(1&e&&(f.Ob(0,"div",12),f.rc(1,I,3,3,"div",14),f.Yb(2,"async"),f.Nb()),2&e){const e=f.Xb(2);f.xb(1),f.dc("ngIf",f.Zb(2,1,e.chosenSource$))}}const S=function(e){return["/raider",e]};function y(e,n){if(1&e&&(f.Ob(0,"span",26),f.Ob(1,"a",27),f.tc(2),f.Nb(),f.tc(3," \xa0"),f.Nb()),2&e){const e=n.$implicit;f.xb(1),f.dc("routerLink",f.gc(2,S,e.raiderName)),f.xb(1),f.vc(" ",e.raiderName," ")}}function k(e,n){if(1&e&&(f.Ob(0,"div",15),f.rc(1,y,4,4,"span",25),f.Nb()),2&e){const e=n.ngIf;f.xb(1),f.dc("ngForOf",e)}}function $(e,n){1&e&&(f.Ob(0,"small"),f.tc(1,"No Rankings."),f.Nb())}const w=function(e){return["/item",e]};function z(e,n){if(1&e&&(f.Ob(0,"article",19),f.Ob(1,"div",20),f.Ob(2,"div",21),f.Ob(3,"a",22),f.tc(4),f.Nb(),f.tc(5,"\xa0\xa0 "),f.rc(6,k,2,1,"div",23),f.Yb(7,"async"),f.rc(8,$,2,0,"ng-template",null,24,f.sc),f.Nb(),f.Nb(),f.Nb()),2&e){const e=n.$implicit,t=f.lc(9),c=f.Xb(3);f.xb(3),f.dc("appWowheadTooltip",e)("routerLink",f.gc(7,w,e.itemId)),f.xb(1),f.uc(e.name),f.xb(2),f.dc("ngIf",f.Zb(7,5,c.getNextRecipient(e)))("ngIfElse",t)}}function F(e,n){if(1&e&&(f.Ob(0,"div",12),f.Ob(1,"p",5),f.Ob(2,"strong"),f.tc(3),f.Nb(),f.tc(4," Loot "),f.Nb(),f.rc(5,z,10,9,"article",18),f.Yb(6,"async"),f.Nb()),2&e){const e=n.ngIf,t=f.Xb(2);f.xb(3),f.uc(e.name),f.xb(2),f.dc("ngForOf",f.Zb(6,2,t.getSourceLoot(e)))}}function Z(e,n){if(1&e&&(f.Ob(0,"div"),f.Ob(1,"section",2),f.Ob(2,"div",3),f.Ob(3,"div",4),f.Ob(4,"h1",5),f.Ob(5,"a",6),f.tc(6),f.Jb(7,"fa-icon",7),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(8,"section",8),f.rc(9,x,3,3,"div",9),f.Yb(10,"async"),f.Ob(11,"div",10),f.Ob(12,"div",11),f.rc(13,F,7,4,"div",9),f.Yb(14,"async"),f.Nb(),f.Ob(15,"div",11),f.Ob(16,"div",12),f.Jb(17,"app-loot-feed",13),f.Yb(18,"async"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb()),2&e){const e=n.ngIf,t=f.Xb();f.xb(5),f.dc("href","https://tbc.wowhead.com/zone="+e.zoneId,f.oc)("appWowheadTooltip",e),f.xb(1),f.vc("",e.name," "),f.xb(1),f.dc("icon",t.faExternalLinkAlt),f.xb(2),f.dc("ngIf",f.Zb(10,8,t.zoneItemSources$).length>1),f.xb(4),f.dc("ngIf",f.Zb(14,10,t.chosenSource$)),f.xb(4),f.dc("zone",e.zoneId)("source",f.Zb(18,12,t.chosenSource$))}}function j(e,n){1&e&&(f.Ob(0,"h1",5),f.tc(1,"Zone not found"),f.Nb())}const L=[{path:":slug",component:(()=>{class e{constructor(e,n,t,c,o){this.router=e,this.route=n,this.itemService=t,this.zoneService=c,this.lootListFacade=o,this.faExternalLinkAlt=i.i,this.zone$=this.route.params.pipe(Object(b.a)(e=>e.slug),Object(b.a)(e=>this.zoneService.getZone(e))),this.allSource={name:"All",category:"All"},this.zoneItemSources$=this.zone$.pipe(Object(r.a)(e=>!!e),Object(b.a)(e=>e.itemSources.length>1?[this.allSource,...e.itemSources]:[...e.itemSources])),this._chosenSource$=new s.a(this.allSource),this.chosenSource$=Object(a.a)([this.zoneItemSources$,this.route.queryParams]).pipe(Object(u.a)(([e,n])=>{if(n.boss){let t=e.find(e=>e.name===n.boss);t||"Zone Drop"!==n.boss||(t=e.find(e=>"Zone Drop"===e.category)),t||(t=this.allSource),this._chosenSource$.next(t)}}),Object(l.a)(()=>this._chosenSource$.asObservable()))}ngOnInit(){}sourceChosen(e){this._chosenSource$.next(e),this.router.navigate([],{relativeTo:this.route,queryParams:{boss:e.name||e.category},queryParamsHandling:"merge"})}getSourceLoot(e){return this.zone$.pipe(Object(b.a)(n=>this.itemService.getBySource(n,e)))}getNextRecipient(e){return this.lootListFacade.getRankedLootGroups(e.name).pipe(Object(d.a)(),Object(b.a)(e=>e.length?e[0]:null),Object(r.a)(e=>null!==e),Object(b.a)(e=>e.rankings.length?e.rankings:null))}}return e.\u0275fac=function(n){return new(n||e)(f.Ib(o.b),f.Ib(o.a),f.Ib(g.a),f.Ib(p.a),f.Ib(h.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-zone-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[1,"hero","is-small","is-black"],[1,"hero-body"],[1,"container"],[1,"title"],["title","Open Wowhead","target","_blank",3,"href","appWowheadTooltip"],[3,"icon"],[1,"section"],["class","box",4,"ngIf"],[1,"columns"],[1,"column"],[1,"box"],[3,"zone","source"],["class","tags",4,"ngIf"],[1,"tags"],["class","tag is-black is-medium",3,"is-primary","click",4,"ngFor","ngForOf"],[1,"tag","is-black","is-medium",3,"click"],["class","media",4,"ngFor","ngForOf"],[1,"media"],[1,"media-content"],[1,"content"],[3,"appWowheadTooltip","routerLink"],["class","tags",4,"ngIf","ngIfElse"],["noRankings",""],["class","tag is-black",4,"ngFor","ngForOf"],[1,"tag","is-black"],[3,"routerLink"]],template:function(e,n){if(1&e&&(f.rc(0,Z,19,14,"div",0),f.Yb(1,"async"),f.rc(2,j,2,0,"ng-template",null,1,f.sc)),2&e){const e=f.lc(3);f.dc("ngIf",f.Zb(1,2,n.zone$))("ngIfElse",e)}},directives:[c.l,m.a,O.a,N.a,c.k,o.c],pipes:[c.b],styles:[""],changeDetection:0}),e})()}];let X=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(n){return new(n||e)},imports:[[o.d.forChild(L)],o.d]}),e})();var W=t("nEHF"),Y=t("ZOsW"),E=t("3Pt+");let A=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(n){return new(n||e)},imports:[[c.c,E.f,E.k,O.b,Y.b,X,W.a]]}),e})()}}]);